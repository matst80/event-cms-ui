"use strict";(()=>{var T={};var Ae=(e,t)=>e===t,We=Symbol("solid-proxy"),Te=Symbol("solid-track"),_e=Symbol("solid-dev-component"),Y={equals:Ae},de=null,Pe=be,j={},A=1,F=2,pe={owned:null,cleanups:null,context:null,owner:null},[Ye,he]=$(!1),d=null,i=null,H=null,Z=null,m=null,G=null,y=null,w=null,re=0;function U(e,t){let n=m,r=d,s=e.length===0,l=s?pe:{owned:null,cleanups:null,context:null,owner:t||r},c=s?e:()=>e(()=>D(l));d=l,m=null;try{return V(c,!0)}finally{m=n,d=r}}function $(e,t){t=t?Object.assign({},Y,t):Y;let n={value:e,observers:null,observerSlots:null,pending:j,comparator:t.equals||void 0},r=s=>(typeof s=="function"&&(i&&i.running&&i.sources.has(n)?s=s(n.pending!==j?n.pending:n.tValue):s=s(n.pending!==j?n.pending:n.value)),oe(n,s));return[ye.bind(n),r]}function ee(e,t,n){let r=le(e,t,!0,A);H&&i&&i.running?y.push(r):_(r)}function X(e,t,n){let r=le(e,t,!1,A);H&&i&&i.running?y.push(r):_(r)}function K(e,t,n){n=n?Object.assign({},Y,n):Y;let r=le(e,t,!0,0);return r.pending=j,r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,H&&i&&i.running?(r.tState=A,y.push(r)):_(r),ye.bind(r)}function se(e,t,n){arguments.length===2?typeof t=="object"&&(n=t,t=e,e=!0):arguments.length===1&&(t=e,e=!0),n||(n={});let r=new Set,[s,l]=$(n.initialValue),[c,o]=$(void 0,{equals:!1}),[a,f]=$(!1),[u,b]=$(),g,p=null,S=null,L=null,M=!1,N=!1,C="initialValue"in n,k=typeof e=="function"&&K(e);T.context&&(L=`${T.context.id}${T.context.count++}`,T.load&&(S=T.load(L)));function E(x,v,P,q){return p===x&&(p=null,C=!0,S&&(x===S||v===S)&&n.onHydrated&&queueMicrotask(()=>n.onHydrated(q,{value:v})),S=null,b(g=P),i&&x&&M?(i.promises.delete(x),M=!1,V(()=>{i.running=!0,i.promises.size||(w.push.apply(w,i.effects),i.effects=[]),O(v)},!1)):O(v)),v}function O(x){W(()=>{l(()=>x),f(!1);for(let v of r.keys())v.decrement();r.clear()})}function B(){let x=te&&ce(d,te.id),v=s();if(g)throw g;return m&&!m.user&&x&&ee(()=>{c(),p&&(x.resolved&&i?i.promises.add(p):r.has(x)||(x.increment(),r.add(x)))}),v}function Q(x=!0){if(x&&N)return;N=!1,b(g=void 0);let v=k?k():e;if(M=i&&i.running,v==null||v===!1){E(p,I(s));return}i&&p&&i.promises.delete(p);let P=S||I(()=>t(v,{value:s(),refetching:x}));return typeof P!="object"||!("then"in P)?(E(p,P),P):(p=P,N=!0,queueMicrotask(()=>N=!1),W(()=>{f(!0),o()}),P.then(q=>E(P,q,void 0,v),q=>E(P,q,q)))}return Object.defineProperties(B,{loading:{get(){return a()}},error:{get(){return u()}},latest:{get(){if(!C)return B();if(g)throw g;return s()}}}),k?ee(()=>Q(!1)):Q(!1),[B,{refetch:Q,mutate:l}]}function W(e){if(G)return e();let t,n=G=[];try{t=e()}finally{G=null}return V(()=>{for(let r=0;r<n.length;r+=1){let s=n[r];if(s.pending!==j){let l=s.pending;s.pending=j,oe(s,l)}}},!1),t}function I(e){let t,n=m;return m=null,t=e(),m=n,t}function ie(e){return d===null||(d.cleanups===null?d.cleanups=[e]:d.cleanups.push(e)),e}function Ne(e){if(i&&i.running)return e(),i.done;let t=m,n=d;return Promise.resolve().then(()=>{m=t,d=n;let r;return(H||te)&&(r=i||(i={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),r.done||(r.done=new Promise(s=>r.resolve=s)),r.running=!0),W(e),m=d=null,r?r.done:void 0})}function Oe(e){let t=Symbol("context");return{id:t,Provider:$e(t),defaultValue:e}}function Le(e){let t=K(e);return K(()=>ne(t()))}var te;function ye(){let e=i&&i.running;if(this.sources&&(!e&&this.state||e&&this.tState)){let t=y;y=null,!e&&this.state===A||e&&this.tState===A?_(this):J(this),y=t}if(m){let t=this.observers?this.observers.length:0;m.sources?(m.sources.push(this),m.sourceSlots.push(t)):(m.sources=[this],m.sourceSlots=[t]),this.observers?(this.observers.push(m),this.observerSlots.push(m.sources.length-1)):(this.observers=[m],this.observerSlots=[m.sources.length-1])}return e&&i.sources.has(this)?this.tValue:this.value}function oe(e,t,n){if(G)return e.pending===j&&G.push(e),e.pending=t,t;if(e.comparator){if(i&&i.running&&i.sources.has(e)){if(e.comparator(e.tValue,t))return t}else if(e.comparator(e.value,t))return t}let r=!1;return i?(r=i.running,(r||!n&&i.sources.has(e))&&(i.sources.add(e),e.tValue=t),r||(e.value=t)):e.value=t,e.observers&&e.observers.length&&V(()=>{for(let s=0;s<e.observers.length;s+=1){let l=e.observers[s];r&&i.disposed.has(l)||((r&&!l.tState||!r&&!l.state)&&(l.pure?y.push(l):w.push(l),l.observers&&we(l)),r?l.tState=A:l.state=A)}if(y.length>1e6)throw y=[],new Error},!1),t}function _(e){if(!e.fn)return;D(e);let t=d,n=m,r=re;m=d=e,ge(e,i&&i.running&&i.sources.has(e)?e.tValue:e.value,r),i&&!i.running&&i.sources.has(e)&&queueMicrotask(()=>{V(()=>{i&&(i.running=!0),ge(e,e.tValue,r)},!1)}),m=n,d=t}function ge(e,t,n){let r;try{r=e.fn(t)}catch(s){Se(s)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?oe(e,r,!0):i&&i.running&&e.pure?(i.sources.add(e),e.tValue=r):e.value=r,e.updatedAt=n)}function le(e,t,n,r=A,s){let l={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:d,context:null,pure:n};if(i&&i.running&&(l.state=0,l.tState=r),d===null||d!==pe&&(i&&i.running&&d.pure?d.tOwned?d.tOwned.push(l):d.tOwned=[l]:d.owned?d.owned.push(l):d.owned=[l]),Z){let[c,o]=$(void 0,{equals:!1}),a=Z(l.fn,o);ie(()=>a.dispose());let f=()=>Ne(o).then(()=>u.dispose()),u=Z(l.fn,f);l.fn=b=>(c(),i&&i.running?u.track(b):a.track(b))}return l}function ue(e){let t=i&&i.running;if(!t&&e.state===0||t&&e.tState===0)return;if(!t&&e.state===F||t&&e.tState===F)return J(e);if(e.suspense&&I(e.suspense.inFallback))return e.suspense.effects.push(e);let n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<re);){if(t&&i.disposed.has(e))return;(!t&&e.state||t&&e.tState)&&n.push(e)}for(let r=n.length-1;r>=0;r--){if(e=n[r],t){let s=e,l=n[r+1];for(;(s=s.owner)&&s!==l;)if(i.disposed.has(s))return}if(!t&&e.state===A||t&&e.tState===A)_(e);else if(!t&&e.state===F||t&&e.tState===F){let s=y;y=null,J(e,n[0]),y=s}}}function V(e,t){if(y)return e();let n=!1;t||(y=[]),w?n=!0:w=[],re++;try{let r=e();return Me(n),r}catch(r){y||(w=null),Se(r)}}function Me(e){if(y&&(H&&i&&i.running?Fe(y):be(y),y=null),e)return;let t;if(i&&i.running){if(i.promises.size||i.queue.size){i.running=!1,i.effects.push.apply(i.effects,w),w=null,he(!0);return}let n=i.sources,r=i.disposed;t=i.resolve;for(let s of w)"tState"in s&&(s.state=s.tState),delete s.tState;i=null,W(()=>{for(let s of r)D(s);for(let s of n){if(s.value=s.tValue,s.owned)for(let l=0,c=s.owned.length;l<c;l++)D(s.owned[l]);s.tOwned&&(s.owned=s.tOwned),delete s.tValue,delete s.tOwned,s.tState=0}he(!1)})}w.length?W(()=>{Pe(w),w=null}):w=null,t&&t()}function be(e){for(let t=0;t<e.length;t++)ue(e[t])}function Fe(e){for(let t=0;t<e.length;t++){let n=e[t],r=i.queue;r.has(n)||(r.add(n),H(()=>{r.delete(n),V(()=>{i.running=!0,ue(n),r.size||(w.push.apply(w,i.effects),i.effects=[])},!1),i&&(i.running=!1)}))}}function J(e,t){let n=i&&i.running;n?e.tState=0:e.state=0;for(let r=0;r<e.sources.length;r+=1){let s=e.sources[r];s.sources&&(!n&&s.state===A||n&&s.tState===A?s!==t&&ue(s):(!n&&s.state===F||n&&s.tState===F)&&J(s,t))}}function we(e){let t=i&&i.running;for(let n=0;n<e.observers.length;n+=1){let r=e.observers[n];(!t&&!r.state||t&&!r.tState)&&(t?r.tState=F:r.state=F,r.pure?y.push(r):w.push(r),r.observers&&we(r))}}function D(e){let t;if(e.sources)for(;e.sources.length;){let n=e.sources.pop(),r=e.sourceSlots.pop(),s=n.observers;if(s&&s.length){let l=s.pop(),c=n.observerSlots.pop();r<s.length&&(l.sourceSlots[c]=r,s[r]=l,n.observerSlots[r]=c)}}if(i&&i.running&&e.pure){if(e.tOwned){for(t=0;t<e.tOwned.length;t++)D(e.tOwned[t]);delete e.tOwned}xe(e,!0)}else if(e.owned){for(t=0;t<e.owned.length;t++)D(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}i&&i.running?e.tState=0:e.state=0,e.context=null}function xe(e,t){if(t||(e.tState=0,i.disposed.add(e)),e.owned)for(let n=0;n<e.owned.length;n++)xe(e.owned[n])}function Se(e){let t=de&&ce(d,de);if(!t)throw e;for(let n of t)n(e)}function ce(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:ce(e.owner,t):void 0}function ne(e){if(typeof e=="function"&&!e.length)return ne(e());if(Array.isArray(e)){let t=[];for(let n=0;n<e.length;n++){let r=ne(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function $e(e){return function(n){let r;return ee(()=>r=I(()=>(d.context={[e]:n.value},Le(()=>n.children)))),r}}var je=Symbol("fallback");function me(e){for(let t=0;t<e.length;t++)e[t]()}function qe(e,t,n={}){let r=[],s=[],l=[],c=0,o=t.length>1?[]:null;return ie(()=>me(l)),()=>{let a=e()||[],f,u;return a[Te],I(()=>{let g=a.length,p,S,L,M,N,C,k,E,O;if(g===0)c!==0&&(me(l),l=[],r=[],s=[],c=0,o&&(o=[])),n.fallback&&(r=[je],s[0]=U(B=>(l[0]=B,n.fallback())),c=1);else if(c===0){for(s=new Array(g),u=0;u<g;u++)r[u]=a[u],s[u]=U(b);c=g}else{for(L=new Array(g),M=new Array(g),o&&(N=new Array(g)),C=0,k=Math.min(c,g);C<k&&r[C]===a[C];C++);for(k=c-1,E=g-1;k>=C&&E>=C&&r[k]===a[E];k--,E--)L[E]=s[k],M[E]=l[k],o&&(N[E]=o[k]);for(p=new Map,S=new Array(E+1),u=E;u>=C;u--)O=a[u],f=p.get(O),S[u]=f===void 0?-1:f,p.set(O,u);for(f=C;f<=k;f++)O=r[f],u=p.get(O),u!==void 0&&u!==-1?(L[u]=s[f],M[u]=l[f],o&&(N[u]=o[f]),u=S[u],p.set(O,u)):l[f]();for(u=C;u<g;u++)u in L?(s[u]=L[u],l[u]=M[u],o&&(o[u]=N[u],o[u](u))):s[u]=U(b);s=s.slice(0,c=g),r=a.slice(0)}return s});function b(g){if(l[u]=g,o){let[p,S]=$(u);return o[u]=S,t(a[u],p)}return t(a[u])}}}function ke(e){let t="fallback"in e&&{fallback:()=>e.fallback};return K(qe(()=>e.each,e.children,t||void 0))}var Je=Oe();var Ie=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],et=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ie]);function De(e,t,n){let r=n.length,s=t.length,l=r,c=0,o=0,a=t[s-1].nextSibling,f=null;for(;c<s||o<l;){if(t[c]===n[o]){c++,o++;continue}for(;t[s-1]===n[l-1];)s--,l--;if(s===c){let u=l<r?o?n[o-1].nextSibling:n[l-o]:a;for(;o<l;)e.insertBefore(n[o++],u)}else if(l===o)for(;c<s;)(!f||!f.has(t[c]))&&t[c].remove(),c++;else if(t[c]===n[l-1]&&n[o]===t[s-1]){let u=t[--s].nextSibling;e.insertBefore(n[o++],t[c++].nextSibling),e.insertBefore(n[--l],u),t[s]=n[l]}else{if(!f){f=new Map;let b=o;for(;b<l;)f.set(n[b],b++)}let u=f.get(t[c]);if(u!=null)if(o<u&&u<l){let b=c,g=1,p;for(;++b<s&&b<l&&!((p=f.get(t[b]))==null||p!==u+g);)g++;if(g>u-o){let S=t[c];for(;o<u;)e.insertBefore(n[o++],S)}else e.replaceChild(n[o++],t[c++])}else c++;else t[c++].remove()}}}function ve(e,t,n){let r;return U(s=>{r=s,t===document?e():He(t,e(),t.firstChild?null:void 0,n)}),()=>{r(),t.textContent=""}}function He(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return z(e,t,r,n);X(s=>z(e,t(),s,n),r)}function z(e,t,n,r,s){for(T.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;let l=typeof t,c=r!==void 0;if(e=c&&n[0]&&n[0].parentNode||e,l==="string"||l==="number"){if(T.context)return n;if(l==="number"&&(t=t.toString()),c){let o=n[0];o&&o.nodeType===3?o.data=t:o=document.createTextNode(t),n=R(e,n,r,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||l==="boolean"){if(T.context)return n;n=R(e,n,r)}else{if(l==="function")return X(()=>{let o=t();for(;typeof o=="function";)o=o();n=z(e,o,n,r)}),()=>n;if(Array.isArray(t)){let o=[],a=n&&Array.isArray(n);if(fe(o,t,n,s))return X(()=>n=z(e,o,n,r,!0)),()=>n;if(T.context){for(let f=0;f<o.length;f++)if(o[f].parentNode)return n=o}if(o.length===0){if(n=R(e,n,r),c)return n}else a?n.length===0?Ee(e,o,r):De(e,n,o):(n&&R(e),Ee(e,o));n=o}else if(t instanceof Node){if(T.context&&t.parentNode)return n=c?[t]:t;if(Array.isArray(n)){if(c)return n=R(e,n,r,t);R(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function fe(e,t,n,r){let s=!1;for(let l=0,c=t.length;l<c;l++){let o=t[l],a=n&&n[l];if(o instanceof Node)e.push(o);else if(!(o==null||o===!0||o===!1))if(Array.isArray(o))s=fe(e,o,a)||s;else if(typeof o=="function")if(r){for(;typeof o=="function";)o=o();s=fe(e,Array.isArray(o)?o:[o],a)||s}else e.push(o),s=!0;else{let f=String(o);a&&a.nodeType===3&&a.data===f?e.push(a):e.push(document.createTextNode(f))}}return s}function Ee(e,t,n){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function R(e,t,n,r){if(n===void 0)return e.textContent="";let s=r||document.createTextNode("");if(t.length){let l=!1;for(let c=t.length-1;c>=0;c--){let o=t[c];if(s!==o){let a=o.parentNode===e;!l&&!c?a?e.replaceChild(s,o):e.insertBefore(s,n):a&&o.remove()}else l=!0}}else e.insertBefore(s,n);return[s]}var ae="http://localhost:3000/",Ve=e=>fetch(ae+"replay/"+e).then(t=>t.json()),Re=e=>fetch(ae+e).then(t=>t.json()),Be=(e,t)=>(console.log(e,JSON.stringify(t)),fetch(ae+"replay/"+e,{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify(t)}));function Ge({source:e}){let[t]=se(e,()=>Ve(e));return h("div",null,h("span",null,t.loading&&"Loading..."),h(ke,{each:t()?.data},(n,r)=>h("div",null,h("pre",null,JSON.stringify(n,null,2)),h("a",{onclick:()=>Be(e,n)},"X"))))}function Ue({source:e}){let[t]=se("projection-"+e,()=>Re(e));return h("div",null,h("pre",null,JSON.stringify(t(),null,2)))}function Ke(){let e="jstest";return h("div",null,h("header",null,h("span",null,e)),h("div",{class:"flex"},h(Ue,{source:e}),h(Ge,{source:e})))}var Ce=Ke;ve(()=>h(Ce,null),document.getElementById("root"));})();
//# sourceMappingURL=index.js.map
